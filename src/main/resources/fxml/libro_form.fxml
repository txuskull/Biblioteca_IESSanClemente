<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controller.LibroFormController"
            prefHeight="750" prefWidth="1150"
            style="-fx-background-color: white;"
            stylesheets="@../css/estilos.css">

    <top>
        <!-- CABECERA 80px -->
        <HBox spacing="20" alignment="CENTER"
              style="-fx-background-color: rgba(70, 141, 174, 1);"
              prefHeight="80">
            <padding>
                <Insets left="30" right="30"/>
            </padding>

            <!-- TÍTULO CENTRADO -->
            <Label fx:id="lblTitulo" text="Nueva Publicacion" textFill="WHITE">
                <font>
                    <Font name="System Bold" size="28"/>
                </font>
            </Label>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <GridPane fx:id="gridForm" hgap="20" vgap="20" alignment="TOP_CENTER">
                <padding>
                    <Insets top="50" right="50" bottom="50" left="50"/>
                </padding>

                <columnConstraints>
                    <ColumnConstraints/>
                    <ColumnConstraints/>
                </columnConstraints>

                <!-- Fila 0: ISBN -->
                <Label text="ISBN / Codigo:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtIsbn" GridPane.columnIndex="1" GridPane.rowIndex="0"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 1: Titulo -->
                <Label text="Titulo:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtTitulo" GridPane.columnIndex="1" GridPane.rowIndex="1"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 2: Tipo -->
                <Label text="Tipo:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <ComboBox fx:id="cmbTipo" GridPane.columnIndex="1" GridPane.rowIndex="2"
                          prefWidth="400" prefHeight="40" promptText="Seleccionar tipo"/>

                <!-- CAMPOS ESPECÍFICOS EN LA MISMA FILA 3 -->

                <!-- SOLO LIBROS: Autor -->
                <Label fx:id="lblAutor" text="Autor:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtAutor" GridPane.columnIndex="1" GridPane.rowIndex="3"
                           prefWidth="400" prefHeight="40"/>

                <!-- SOLO REVISTAS: Periodicidad (MISMA FILA 3) -->
                <Label fx:id="lblPeriodicidad" text="Periodicidad:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                       style="-fx-text-fill: #555;" visible="false" managed="false">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <ComboBox fx:id="cmbPeriodicidad" GridPane.columnIndex="1" GridPane.rowIndex="3"
                          prefWidth="400" prefHeight="40" visible="false" managed="false"/>

                <!-- Fila 4: Nacionalidad (SOLO LIBROS) -->
                <Label fx:id="lblNacionalidad" text="Nacionalidad Autor:" GridPane.columnIndex="0" GridPane.rowIndex="4"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtNacionalidad" GridPane.columnIndex="1" GridPane.rowIndex="4"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 5: Edición (SOLO LIBROS) -->
                <Label fx:id="lblEdicion" text="Edición:" GridPane.columnIndex="0" GridPane.rowIndex="5"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtEdicion" GridPane.columnIndex="1" GridPane.rowIndex="5"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 6: Fecha Publicación (SOLO LIBROS) -->
                <Label fx:id="lblFechaPublicacion" text="Fecha Publicación:" GridPane.columnIndex="0" GridPane.rowIndex="6"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtFechaPublicacion" GridPane.columnIndex="1" GridPane.rowIndex="6"
                           prefWidth="400" prefHeight="40" promptText="YYYY-MM-DD"/>

                <!-- CAMPOS COMUNES DESDE FILA 7 -->

                <!-- Fila 7: Editorial -->
                <Label text="Editorial:" GridPane.columnIndex="0" GridPane.rowIndex="7"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtEditorial" GridPane.columnIndex="1" GridPane.rowIndex="7"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 8: Dirección -->
                <Label text="Direccion Edit.:" GridPane.columnIndex="0" GridPane.rowIndex="8"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtEditorialDir" GridPane.columnIndex="1" GridPane.rowIndex="8"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 9: Teléfono -->
                <Label text="Telefono Edit.:" GridPane.columnIndex="0" GridPane.rowIndex="9"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtEditorialTel" GridPane.columnIndex="1" GridPane.rowIndex="9"
                           prefWidth="400" prefHeight="40"/>

                <!-- Fila 10: Idioma -->
                <Label text="Idioma:" GridPane.columnIndex="0" GridPane.rowIndex="10"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <ComboBox fx:id="cmbIdioma" GridPane.columnIndex="1" GridPane.rowIndex="10"
                          prefWidth="400" prefHeight="40"/>

                <!-- Fila 11: Módulos -->
                <Label text="Módulos:" GridPane.columnIndex="0" GridPane.rowIndex="11"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtModulos" GridPane.columnIndex="1" GridPane.rowIndex="11"
                           prefWidth="400" prefHeight="40" promptText="Ej: Programación, DI"/>

                <!-- Fila 12: Ciclos -->
                <Label text="Ciclos:" GridPane.columnIndex="0" GridPane.rowIndex="12"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextField fx:id="txtCiclos" GridPane.columnIndex="1" GridPane.rowIndex="12"
                           prefWidth="400" prefHeight="40" promptText="Ej: DAM, DAW, ASIR"/>

                <!-- Fila 13: Temas -->
                <Label text="Temas:" GridPane.columnIndex="0" GridPane.rowIndex="13"
                       style="-fx-text-fill: #555;">
                    <font><Font name="Arial Bold" size="14"/></font>
                </Label>
                <TextArea fx:id="txtTemas" GridPane.columnIndex="1" GridPane.rowIndex="13"
                          prefWidth="400" prefHeight="80" wrapText="true"/>
            </GridPane>
        </ScrollPane>
    </center>

    <bottom>
        <HBox spacing="20" alignment="CENTER">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <Button fx:id="btnCancelar" text="CANCELAR"
                    prefWidth="180" prefHeight="45"
                    onAction="#handleCancelar"
                    styleClass="boton-cancelar">
                <font>
                    <Font name="System Bold" size="14"/>
                </font>
            </Button>

            <Button fx:id="btnGuardar" text="GUARDAR CAMBIOS"
                    prefWidth="180" prefHeight="45"
                    onAction="#handleGuardar"
                    styleClass="boton-guardar">
                <font>
                    <Font name="System Bold" size="14"/>
                </font>
            </Button>
        </HBox>
    </bottom>
</BorderPane>